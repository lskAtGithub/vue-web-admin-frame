import{d as g,a as y,r as i,i as C,s as x,b as a,c as U,e as k,w as l,f as o,u as f,l as N,x as R,E,V as S}from"./index-c69f23bb.js";import{C as B}from"./Container-68c6570c.js";const j=g({__name:"ChangePwd",setup(F){const u=(d,e,s)=>{e===""?s(new Error("密码不能为空, 请输入")):(S.validatePassword(e)&&s(),s(new Error("密码必须包含大小写字母,特殊字符和数字，长度为8-12位")))},p=y(),r=i({oldPassword:"",password:"",newPassword:""}),w=i({password:[{validator:u,trigger:"blur"}],newPassword:[{validator:u,trigger:"blur"}],oldPassword:[{validator:u,trigger:"blur"}]}),_=d=>{d&&d.validate(e=>{if(e)E.success("提交成功");else return!1})},{user:V}=C(),{userInfo:m}=x(V);return(d,e)=>{const s=a("el-input"),n=a("el-form-item"),P=a("el-button"),b=a("el-form"),c=a("el-col"),v=a("el-row");return U(),k(B,null,{default:l(()=>[o(v,{justify:"center",onOnSubmit:e[5]||(e[5]=R(()=>{},["stop"]))},{default:l(()=>[o(c,{span:18},{default:l(()=>[o(b,{model:r,"status-icon":"",ref_key:"ruleFormRef",ref:p,rules:w,"label-width":"120px"},{default:l(()=>[o(n,{label:"账号"},{default:l(()=>[o(s,{modelValue:f(m).nickName,"onUpdate:modelValue":e[0]||(e[0]=t=>f(m).nickName=t),disabled:""},null,8,["modelValue"])]),_:1}),o(n,{label:"原始密码",prop:"oldPassword"},{default:l(()=>[o(s,{modelValue:r.oldPassword,"onUpdate:modelValue":e[1]||(e[1]=t=>r.oldPassword=t),type:"password"},null,8,["modelValue"])]),_:1}),o(n,{label:"新密码",prop:"password"},{default:l(()=>[o(s,{modelValue:r.password,"onUpdate:modelValue":e[2]||(e[2]=t=>r.password=t),type:"password"},null,8,["modelValue"])]),_:1}),o(n,{label:"再次输入",prop:"newPassword"},{default:l(()=>[o(s,{modelValue:r.newPassword,"onUpdate:modelValue":e[3]||(e[3]=t=>r.newPassword=t),type:"password"},null,8,["modelValue"])]),_:1}),o(n,null,{default:l(()=>[o(P,{onClick:e[4]||(e[4]=t=>_(p.value)),type:"primary"},{default:l(()=>[N("确 认")]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})]),_:1})]),_:1})}}});export{j as default};
